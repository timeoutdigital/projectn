<?php
/**
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class PluginSLLEventCategoryMappingTable extends Doctrine_Table
{

	/**
	 * Get PluginSLLCategory record by searching mapping table for event ID.
	 *
	 * @param int $eventId The Id of the event you want the category for
	 * @return PluginSLLCategory
	 */
    public function getEventCategory( $eventId )
    {
        $q = $this->createQuery()->select('m.*, c.*')
                                 ->from( 'SLLEventCategoryMapping m' )
                                 ->leftJoin( 'm.SLLCategory c ON m.category_id = c.id' )
                                 ->where( 'm.event_id = ?', $eventId );

        return $q->fetchOne();
    }
}