<?php
require_once 'PHPUnit/Framework.php';

require_once dirname(__FILE__).'/../../../../lib/import/curlImporter.class.php';

/**
 * Test class for curlImporter.
 * Generated by PHPUnit on 2010-01-20 at 14:43:44.
 */
class curlImporterTest extends PHPUnit_Framework_TestCase {
  /**
   * @var curlImporter
   */
  protected $object;

  /**
   * Sets up the fixture, for example, opens a network connection.
   * This method is called before a test is executed.
   */
  protected function setUp() {
    $this->object = new curlImporter;
  }

  /**
   * Tears down the fixture, for example, closes a network connection.
   * This method is called after a test is executed.
   */
  protected function tearDown() {
  }

  /**
   * @todo Implement testBuildCurlParamString().
   */
  public function testBuildCurlParamString() {
   
  }

  /**
   * @todo Implement testCurlRequest().
   */
  public function testCurlRequest() {
    // Remove the following lines when you implement this test.
    $this->markTestIncomplete(
            'This test has not been implemented yet.'
    );
  }

  /**
   * @todo Implement testGetFeed().
   */
  public function testGetFeed() {
    // Remove the following lines when you implement this test.
    $this->markTestIncomplete(
            'This test has not been implemented yet.'
    );
  }

  /**
   * Test that  feed can be pulled and can be parased
   */
  public function testPullXml()
  {

    $parameters = array('from' => '2010-01-01', 'to' => '2010-01-30');
    try
    {
      $returnObj = $this->object->pullXml('http://www.timeout.pt/', 'xmllist.asp', $parameters);
      $this->assertType('object', $returnObj);
    }
    catch( Exception $e )
    {
      echo 'LibXMLError ' . __FILE__ . " on line:" . __LINE__;
    }

  }
}
?>
